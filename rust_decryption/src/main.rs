mod decryption;
use decryption::decrypt;

// Simple test of the decryption function
fn main() {
    let skbytes = vec![148, 14, 200, 9, 228, 94, 36, 224, 44, 4, 19, 166, 174, 11, 63, 15, 68, 43, 141, 181, 219, 76, 254, 81, 204, 238, 211, 85, 15, 224, 253, 227, 93, 82, 34, 2, 244, 7, 20, 191, 240, 113, 51, 192, 225, 87, 208, 112, 19, 188, 237, 184, 84, 65, 126, 17, 71, 33, 185, 44, 247, 51, 203, 22, 240, 92, 6, 53, 69, 172, 37, 67, 88, 35, 6, 81, 102, 3, 67, 143, 120, 208, 119, 152, 208, 183, 158, 201, 223, 48, 164, 149, 157, 160, 172, 249];
    let c = vec![97, 103, 101, 45, 101, 110, 99, 114, 121, 112, 116, 105, 111, 110, 46, 111, 114, 103, 47, 118, 49, 10, 45, 62, 32, 100, 105, 115, 116, 73, 66, 69, 10, 106, 117, 79, 52, 120, 107, 75, 49, 43, 97, 84, 102, 67, 81, 55, 77, 54, 106, 69, 118, 53, 122, 98, 103, 109, 113, 110, 106, 117, 75, 108, 52, 43, 101, 80, 71, 106, 51, 74, 97, 85, 84, 80, 78, 48, 86, 50, 66, 54, 118, 107, 69, 105, 84, 75, 102, 66, 111, 67, 52, 55, 102, 110, 122, 10, 109, 118, 71, 68, 111, 102, 73, 79, 80, 79, 121, 55, 70, 53, 52, 57, 112, 65, 107, 101, 116, 116, 116, 107, 109, 80, 103, 88, 57, 50, 72, 87, 51, 88, 85, 67, 98, 68, 80, 103, 107, 70, 53, 83, 55, 119, 53, 74, 66, 122, 116, 89, 52, 113, 105, 118, 122, 112, 77, 67, 50, 57, 97, 80, 10, 115, 54, 71, 57, 114, 71, 43, 104, 121, 90, 102, 72, 117, 88, 85, 89, 116, 121, 87, 105, 121, 119, 10, 45, 45, 45, 32, 68, 65, 72, 50, 106, 66, 48, 84, 111, 107, 122, 99, 76, 86, 72, 52, 82, 106, 121, 80, 109, 113, 103, 104, 120, 119, 67, 73, 43, 108, 110, 113, 56, 74, 74, 106, 70, 68, 66, 89, 122, 73, 85, 10, 162, 118, 185, 155, 148, 219, 212, 71, 209, 143, 130, 197, 66, 50, 100, 253, 17, 89, 205, 126, 255, 244, 37, 99, 85, 209, 199, 202, 66, 52, 101, 88, 100, 2, 78, 108];
    match decrypt(c, skbytes, 45) {
        Ok(decrypted_data) => {
            let s = String::from_utf8(decrypted_data.bytes.to_vec())
            .expect("bytes were not valid UTF-8");
            println!("Decrypted data: {:?}", s);
        }
        Err(e) => {
            eprintln!("Error: {:?}", e);
        }
    }
}

